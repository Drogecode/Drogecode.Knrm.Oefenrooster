@page "/configuration/training-targets"
@using Drogecode.Knrm.Oefenrooster.Shared.Enums
@attribute [Authorize(Roles = AccessesNames.AUTH_configure_training_target)]

<TrainingSubjectList>
    <SubjectBodyContent Context="trainingSubject">
        <MudChip T="string">@trainingSubject.Order</MudChip>
        @trainingSubject.Name
        <MudButton Color="Color.Primary" OnClick="@(() => OpenTrainingSubjectDialog(trainingSubject, null, false))">@LApp["Edit"]</MudButton>
    </SubjectBodyContent>
    <TargetBodyContent Context="trainingTarget">
        @{
            var color = Color.Primary;
            if (trainingTarget.Type == TrainingTargetType.Knowledge)
            {
                color = Color.Secondary;
            }
        }
        <MudChip T="string">@trainingTarget.Order</MudChip>
        @switch (trainingTarget.Group)
        {
            case TrainingTargetGroup.Single:
                <MudIcon Icon="@Icons.Material.Filled.Person" Color="@color"/>
                break;
            case TrainingTargetGroup.TwoPersons:
                <MudIcon Icon="@Icons.Material.Filled.People" Color="@color"/>
                break;
            case TrainingTargetGroup.Group:
                <MudIcon Icon="@Icons.Material.Filled.Group" Color="@color"/>
                break;
        }
        <MudText>@trainingTarget.Name</MudText>
        <MudButton Color="Color.Primary" OnClick="@(() => OpenTrainingTargetDialog(trainingTarget, null, false))">@LApp["Edit"]</MudButton>
    </TargetBodyContent>
    <AddSubjectOrTargetContent Context="trainingSubject">
        <MudButtonGroup Color="Color.Primary">
            <MudButton OnClick="@(() => OpenTrainingTargetDialog(null, trainingSubject.Id, true))">@L["Add target"]</MudButton>
            <MudButton OnClick="@(() => OpenTrainingSubjectDialog(null, trainingSubject.Id, true))">@L["Add subject"]</MudButton>
        </MudButtonGroup>
    </AddSubjectOrTargetContent>
</TrainingSubjectList>
<MudButton Color="Color.Primary" OnClick="@(() => OpenTrainingSubjectDialog(null, null, true))">@L["Add subject to base"]</MudButton>