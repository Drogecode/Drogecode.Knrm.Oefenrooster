@page "/configuration/training-targets"
@attribute [Authorize(Roles = AccessesNames.AUTH_configure_training_target)]

<TrainingSubjectList RefreshModel="_refreshModel">
    <SubjectBodyContent Context="trainingSubject">
        <MudChip T="string">@trainingSubject.Order</MudChip>
        @trainingSubject.Name
        <MudButton Color="Color.Primary" OnClick="@(() => OpenTrainingSubjectDialog(trainingSubject, null, false))">@LApp["Edit"]</MudButton>
    </SubjectBodyContent>
    <TargetBodyContent Context="trainingTarget">
        <MudChip T="string">@trainingTarget.Order</MudChip>
        <MudIcon Icon="@trainingTarget.Icon" Color="@trainingTarget.IconColor"/>
        <MudText>@trainingTarget.Name</MudText>
        <MudButton Color="Color.Primary" OnClick="@(() => OpenTrainingTargetDialog(trainingTarget, null, false))">@LApp["Edit"]</MudButton>
    </TargetBodyContent>
    <AddSubjectOrTargetContent Context="trainingSubject">
        <MudButtonGroup Color="Color.Primary">
            <MudButton OnClick="@(() => OpenTrainingTargetDialog(null, trainingSubject.Id, true))">@L["Add target"]</MudButton>
            <MudButton OnClick="@(() => OpenTrainingSubjectDialog(null, trainingSubject.Id, true))">@L["Add subject"]</MudButton>
        </MudButtonGroup>
    </AddSubjectOrTargetContent>
</TrainingSubjectList>
<MudButton Color="Color.Primary" OnClick="@(() => OpenTrainingSubjectDialog(null, null, true))">@L["Add subject to base"]</MudButton>