@using Drogecode.Knrm.Oefenrooster.Client.Repositories;
@using Drogecode.Knrm.Oefenrooster.Shared.Enums;
@using Drogecode.Knrm.Oefenrooster.Shared.Models.Schedule
<MudDialog>
    <DialogContent>
        @if (Vehicles != null)
        {
            <MudText Typo="Typo.h4">@L["Which vehicle?"]</MudText>
            @if (_linkVehicleTraining != null)
            {
                foreach (var vehicle in Vehicles.Where(x=>x.Active))
                {
                    bool? isSelected = _linkVehicleTraining?.FirstOrDefault(x => x.Vehicle == vehicle.Id)?.IsSelected;
                    <MudSwitch T="bool" CheckedChanged="(e)=> CheckChanged(e, vehicle)" Color="Color.Success" Label="@vehicle.Name" Tag="@vehicle" Checked="@(isSelected == true || (isSelected == null && vehicle.Default))" /> <br />
                }
            }
        }
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">@LApp["Cancel"]</MudButton>
        <MudButton Color="Color.Primary" OnClick="Submit">@LApp["save"]</MudButton>
    </DialogActions>
</MudDialog>

