<MudDialog>
    <DialogContent>
        @if (_trainingAudits is not null && Users is not null)
        {
            <MudDataGrid Items="_trainingAudits.OrderByDescending(x=>x.Date)" Striped="true" Hover="true">
                <Columns>
                    <PropertyColumn Property="x => x.Date" Title="@L["Date"]">
                        <CellTemplate>
                            <DateToString DateTimeUtc="context.Item.Date" ShowDate="true" ShowTime="true"/>
                        </CellTemplate>
                    </PropertyColumn>
                    <PropertyColumn Property="x => x.AuditReason" Title="@L["AuditReason"]">
                        <CellTemplate>
                            @L[context.Item.AuditReason?.ToString() ?? ""]
                        </CellTemplate>
                    </PropertyColumn>
                    <PropertyColumn Property="x => x.UserId" Title="@L["User"]">
                        <CellTemplate>
                            @(Users.FirstOrDefault(u => u.Id == context.Item.UserId)?.Name ?? context.Item.UserId.ToString())
                        </CellTemplate>
                    </PropertyColumn>
                    <PropertyColumn Property="x => x.Assigned" Title="@LApp["Assigned"]">
                        <CellTemplate>
                            <MudCheckBox Disabled = "true" Value="context.Item.Assigned ?? false"/>
                        </CellTemplate>
                    </PropertyColumn>
                    <PropertyColumn Property="x => x.Availability" Title="@L["Availability"]">
                        <CellTemplate>
                            @LApp[context.Item.Availability?.ToString() ?? ""]
                        </CellTemplate>
                    </PropertyColumn>
                    <PropertyColumn Property="x => x.ByUser" Title="@L["By user"]">
                        <CellTemplate>
                            @(Users.FirstOrDefault(u => u.Id == context.Item.ByUser)?.Name ?? context.Item.ByUser.ToString())
                        </CellTemplate>
                    </PropertyColumn>
                </Columns>
            </MudDataGrid>
        }
    </DialogContent>
</MudDialog>
