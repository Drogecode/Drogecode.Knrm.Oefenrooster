@page "/user/defaults"
@attribute [Authorize]
@using Drogecode.Knrm.Oefenrooster.Client.Pages.User.Components
@using Drogecode.Knrm.Oefenrooster.Shared.Enums;
@using Drogecode.Knrm.Oefenrooster.Shared.Models.DefaultSchedule;
<PageTitle>@L["Default schedule"]</PageTitle>

@if (_defaultGroups is not null)
{
    if (_defaultGroups.Count > 1)
    {
        <MudExpansionPanels>
            @foreach (var group in _defaultGroups)
            {
                string groupName = GetGroupName(group);
                <MudExpansionPanel Text='@($"{groupName} {group.ValidFrom} {LApp["till"]} {group.ValidUntil}")'>
                    <DefaultPanel Group="@group" />
                </MudExpansionPanel>
            }
        </MudExpansionPanels>
    }
    else if (_defaultGroups.Count == 1)
    {
        <DefaultPanel Group="@_defaultGroups.FirstOrDefault()" />
    }
    else
    {
        @L["No groups found :("]
    }
}
else
{
    <MudSkeleton />
    <MudSkeleton />
    <MudSkeleton />
    <MudSkeleton />
}